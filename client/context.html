<template name="display_text_section">
  <div class="text-section" dir="auto">
    {{{annotation}}}
  </div>
</template>

<template name="homepage_preview_text_section">
  <div class="homepage-preview-text-section" dir="auto">
    {{{annotation}}}
  </div>
</template>

<template name="display_image_section">
  <div class="image-section">
    {{#if showVideo}}
      {{> looping_video}}
    {{else}}
      <div class="image-container">
        <img src="{{url}}" />
      </div>
      {{#if isGiphy}}<img class="giphy-logo" src="{{c.url 'static/giphy_logo.png'}}" />{{/if}}
      {{#if isFlickr}}
        <div class="attribution">
          <i class="fa fa-flickr"></i>
          {{#if ownerName}}<a href="//flickr.com/{{ownerName}}" target="_blank">{{ownerName}}</a><span class="separator">·</span>{{/if}}<a href="{{webUrl}}" target="_blank">{{#if uploadDate}}{{uploadDate}}{{else}}source{{/if}}</a>
        </div>
      {{/if}}
    {{/if}}
    {{> annotation_section }}
  </div>
</template>

<template name="looping_video">
  <div class="looping-video">
    <video autoplay loop muted="muted"
           poster="{{previewUrl}}">

      <source type="video/mp4"
              src="{{mp4Url}}">

      <source type="video/webm"
              src="{{webMUrl}}">
      Your browser does not support the HTML5 video tag.
    </video>
  </div>
</template>

<template name="display_map_section">
  <div class="map-section">
    <div class="active-display">
      <iframe width="100%" height="100%" frameborder="0" style="border:0" src="{{url}}"></iframe>
    </div>
    {{> annotation_section }}
  </div>
</template>


<template name="display_audio_section">
  <div class="audio-section">
    {{#if selected}}
      <div class="active-display">
        <iframe width="100%" height="100%" frameborder="0" style="border:0" src="{{url}}" allowfullscreen></iframe>
      </div>
    {{/if}}
    <div class="preview">
      <img src="{{previewUrl}}"/>
    </div>
  </div>
</template>

<template name="display_video_section">
  <div class="video-section">
    <div class="active-display">
      <iframe id="6666666" width="100%" height="100%" frameborder="0" style="border:0" src="{{autoplayUrl}}" allowfullscreen></iframe>
    </div>
    <div class="preview">
      <img src="{{previewUrl}}"/>
    </div>
    {{> annotation_section }}
  </div>
</template>


<template name="display_news_section">
  <div class="news-section">
    <div class="news-source">{{#if providerIconUrl}}<img class="provider-image" src="{{providerIconUrl}}"/>{{/if}}{{providerName}}</div>
    {{#if headerImageUrl}}
      <img class="news-header-image" src="{{headerImageUrl}}"/>
    {{/if}}
    <h4 class="news-title">{{title}}</h4>
    <div class="news-date">{{formatDate publicationDate}}</div>
    <div class="news-html">{{{html}}}</div>
    <div class="news-link"><a class="read-more" href="{{url}}" target="_blank">Read more on {{providerTruncatedUrl}}</a></div>
  </div>
  {{> annotation_section }}
</template>

<template name="homepage_preview_news_section">
  <div class="homepage-preview-news-section">
    <div class="news-source">{{#if providerIconUrl}}<img class="provider-image" src="{{providerIconUrl}}"/>{{/if}}{{providerName}}</div>
    <h4 class="news-title">{{title}}</h4>
    <div class="news-date">{{formatDateNice publicationDate}}</div>
    <div class="news-html">{{{html}}}</div>
  </div>
</template>

<template name="display_link_section">
  <div class="link-section">
    <a href="{{url}}" target="_blank">
      <div class="top">
        {{#if thumbnailUrl}}
          {{#if imageOnLeft}}
            <img class="thumbnail left" src="{{thumbnailUrl}}" />
          {{else}}
            <div class="thumbnail top" style='background-image: url("{{thumbnailUrl}}")'></div>
          {{/if}}
          <div class="link-title {{#if imageOnLeft}}image-on-left{{else}}image-on-top{{/if}}">{{title}}</div>
        {{/if}}
      </div>
    </a>
    <div class="link-description {{#if imageOnLeft}}image-on-left{{else}}image-on-top{{/if}}">{{linkDescription}}</div>
    <div class="bottom">
      <a class="read-more" href="{{url}}" target="_blank">Read more on {{providerTruncatedUrl}} ></a>
    </div>
  </div>
</template>

<template name="display_twitter_section">
  <div class="twitter-section">
    <div class="active-display">
      <div class="twitter-text-section {{#if selected}} selected {{/if}} {{#if imgUrl}}image{{/if}} ">
        <div class='tweet-card'>
          <div class='title'>
            <div class='prof_pic'>
              <a href="{{user_url}}" target="_blank">
                <img src="{{userpic}}">
              </a>
            </div>
            <div class='username'>
              <div>{{username}}
              </div>
              <div class="screenname"><a href="{{user_url}}" target="_blank">@{{screenname}}</a>
              </div>
            </div>
          </div>
          <div class="tweet" dir="auto">{{{formattedTweet}}}
          </div>
          <div class="info">
            <span>
              <a href="{{twitter_url}}" target="_blank"><i class="fa fa-twitter"></i>
              </a>
              {{#if retweetUser}}
                <a href="{{retweet_url}}" target="_blank">
                  <i class="fa fa-retweet"></i>@{{retweetUser}}</a>
              {{/if}}
              <a href="{{tweet_url}}" target="_blank">{{creationDateString}}</a>
            </span>
          </div>
          <div class="actions">
            <span>
              <a href="{{reply_action}}" target="_blank">
                <i class="fa fa-reply"></i>
              </a>
              <a href="{{retweet_action}}" target="_blank">
                <i class="fa fa-retweet"></i>
              </a>
              <a href="{{favorite_action}}" target="_blank">
                <i class="fa fa-star"></i>
              </a>
            </span>
          </div>
        </div>
      </div>
    </div>
    {{#if imgUrl}}
      <div class='image-section'>
        <img src='{{imgUrl}}'>
      </div>
    {{/if}}
  </div>
</template>


<template name="homepage_preview_twitter_section">
  <div class="homepage-preview-twitter-section">
    <div class='user-info'>
      <div class='prof-pic'>
        <a href="{{user_url}}" target="_blank">
          <img src="{{userpic}}">
        </a>
      </div>
      <div class='username'>
        <div>{{username}}
        </div>
        <div class="screenname"><a href="{{user_url}}" target="_blank">@{{screenname}}</a>
        </div>
      </div>
    </div>
    <div class="tweet" dir="auto">{{{formattedTweet}}}
    </div>
    <div class="info">
      <span>
        <a href="{{twitter_url}}" target="_blank"><i class="fa fa-twitter"></i>
        </a>
        {{#if retweetUser}}
          <a href="{{retweet_url}}" target="_blank">
            <i class="fa fa-retweet"></i>@{{retweetUser}}</a>
        {{/if}}
        <a href="{{tweet_url}}" target="_blank">{{creationDateString}}</a>
      </span>
    </div>
    <div class="actions">
      <span>
        <a href="{{reply_action}}" target="_blank">
          <i class="fa fa-reply"></i>
        </a>
        <a href="{{retweet_action}}" target="_blank">
          <i class="fa fa-retweet"></i>
        </a>
        <a href="{{favorite_action}}" target="_blank">
          <i class="fa fa-star"></i>
        </a>
      </span>
    </div>
  </div>
</template>



<template name="preview_image_section">
  <div class="show-full">
    <div class="image-preview {{#if usePlaceholder}}has-placeholder{{/if}}">
      {{#if showVideo}}
        {{> looping_video}}
      {{else}}
        <div class="image-container">
          <img src="{{url}}" />
        </div>
        {{#if isGiphy}}<img class="giphy-logo" src="{{c.url 'static/giphy_logo.png'}}" />{{/if}}
        {{#if isFlickr}}
          <div class="attribution">
            <i class="fa fa-flickr"></i>
            {{#if ownerName}}<a href="//flickr.com/{{ownerName}}" target="_blank">{{ownerName}}</a><span class="separator">·</span>{{/if}}<a href="{{webUrl}}" target="_blank">{{#if uploadDate}}{{uploadDate}}{{else}}source{{/if}}</a>
          </div>
        {{/if}}
      {{/if}}
    </div>
    {{#if usePlaceholder}}
      <div class="preview-placeholder" style="height: {{height}}px; width: {{width}}px;">
      </div>
    {{/if}}
  </div>
</template>

<template name="preview_video_section">
  <div class="show-full">
    <div class="video-preview">
      <img src="{{previewUrl}}"/>
      {{> play_video_icon}}
      <div class="info">
        <div class="title">{{title}}</div>
      </div>
    </div>
    <div class="preview-placeholder" style="height: {{height}}px; width: {{width}}px;">
    </div>
  </div>
</template>

<template name="preview_map_section">
  <div class="show-full">
    <div class="map-preview">
      <img src="{{previewUrl height width}}"/>
    </div>
    <div class="preview-placeholder" style="height: {{height}}px; width: {{width}}px;">
    </div>
  </div>
</template>

<template name="preview_text_section">
  <div class="show-full">
    <div class="text-preview" dir="auto">
      {{content}}
    </div>
  </div>
</template>

<template name="preview_news_section">
  <div class="news-preview-top">
    <div class="news-date">{{formatDateNice publicationDate}}</div>
    <div class="news-author">{{primaryAuthor}}</div>
    {{#if headerImageUrl}}
      <img class="news-header-image" src="{{headerImageUrl}}"/>
    {{/if}}
  </div>

  <div class="show-full">
    <h4 class="news-title">{{title}}</h4>

    <div class="news-preview">
      {{introduction}}
    </div>
  </div>
</template>
